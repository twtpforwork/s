 function showSizeConversion(){ newTab = '<div href=#tabset-tab-3 class="Tab-label js-tab-label"><span>尺寸換算</span></div>'; $('.Tabset .Tabset-tabs').append(newTab); var newContent = '<div class="Tab-content js-tab-content" id=#tabset-tab-4 scroll-to scroll-offset=48> <div class="ProductDetail-description input-calculator" style="text-align: center;"> <div class="ProductDetail-title primary-border-color-after"> 尺寸換算 </div> <span style="max-width: 100%; font-weight: bold; font-size: medium; color: rgb(209, 123, 123);"> 請於下方輸入妳的上胸圍和下胸圍(cm)數據，既可得知胸部尺寸 </span> <div style="text-indent: -32px;"><span style><br></span></div> <span style> ★請穿著薄襯墊的內衣測量 <br> ★皮尺請記得水平測量<br> ★尺寸建議填寫到小數點第一位，計算會更準確<br> </span> <div style="text-indent: -32px;"><span style><br></span></div> <div class=variation-detail style="width: 400px;margin-left: auto;margin-right: auto;"> <div class=quantity-wrapper> <div style="text-align: left;max-width: 400px;min-width: 330px;position: inherit;left: 0;right: 0;margin-left: auto;margin-right: auto;" class="variation_title quantity-title">上胸圍</div> <div class="form-inline form-quantity ng-scope form-block" style=display:inline-block;margin-bottom:10px> <input id=upper_bust style="text-align:center;border-radius: 3px;max-width: 400px;min-width: 303px;width: 91%;position: absolute;left: 0;right: 0;margin-left: auto;margin-right: auto;margin-bottom: 15px;" class="form-control form-control-xs form-control-inline" type=number> </div> </div> <div class=quantity-wrapper style="margin-top: 30px;"> <div style="text-align: left;max-width: 400px;min-width: 330px;position: inherit;left: 0;right: 0;margin-left: auto;margin-right: auto;" class="variation_title quantity-title">下胸圍</div> <div class="form-inline form-quantity ng-scope form-block" style=display:inline-block;margin-bottom:10px> <input id=under_bust style="text-align:center;border-radius: 3px;max-width: 400px;min-width: 303px;width: 91%;position: absolute;left: 0;right: 0;margin-left: auto;margin-right: auto;margin-bottom: 15px;" class="form-control form-control-xs form-control-inline" type=number> </div> </div> <div class=quantity-wrapper style="margin-top: 30px;"> <div style="text-align: left;" class="variation_title quantity-title">胸部尺寸</div> <div class="form-inline form-quantity ng-scope form-block" style=display:inline-block;margin-bottom:10px> <span id=show_bust class=input-group style="background-color: #9a7a80;  height: 38px; border-radius: 3px; line-height: 38px; color: white; max-width: 400px; min-width: 330px; width:80%; position: absolute;left: 0;right: 0;margin-left: auto;margin-right: auto;"> 計算我的尺寸 </span> </div> </div> </div> <div class=variation-detail style="margin-left: auto;margin-right: auto;margin-top: 50px;"> <div class=quantity-wrapper> <img src=https://d31xv78q8gnfco.cloudfront.net/media/image_clips/6154904a508259001da84a53/original.png alt=上胸圍測量 style=width:100%;max-width:400px;> <img src=https://d31xv78q8gnfco.cloudfront.net/media/image_clips/6154904a68402c002f00e36c/original.png alt=下胸圍測量 style=width:100%;max-width:400px;> </div> </div> <div class=variation-detail style="margin-left: auto;margin-right: auto;margin-top: 60px;"> <div class=quantity-wrapper> 因每人身形比例與胸型不同，以上計算尺寸僅供參考。請依個人平時穿著尺寸、商品頁面平量數據斟酌選購。 <br> 如有任何疑問，請隨時與客服人員聯繫，我們將盡快協助您解決問題，謝謝 </div> </div> <div class=variation-detail style="margin-left: auto;margin-right: auto;margin-top: 60px;"> <div class="form-inline form-quantity ng-scope form-block" style=display:inline-block;margin-bottom:10px> <a href=https://line.me/R/ti/p/@miaboutique><span id=show_bust class=input-group style="background-color: #9a7a80;  height: 38px; border-radius: 3px; line-height: 38px; color: white; max-width: 400px; min-width: 330px; width:80%; position: absolute;left: 0;right: 0;margin-left: auto;margin-right: auto;"> 聯繫客服 </span></a> </div> </div> </div> </div>' $('.Tabset').append(newContent); var hHeader; if ($(window).width() > 1199) { hHeader = $('.js-navbar-desktop').height(); } else { hHeader = $('.js-navbar-mobile').height(); } $('.js-tab-label').each(function() { $(this).removeAttr('onclick'); }); $('.js-tab-label').each(function() { $(this).click(function() { $(this).addClass('active').siblings().removeClass('active'); $(this).closest('.js-tabset').find('.js-tab-content:nth-child(' + ($(this).index() + 2) + ')').addClass('active').siblings().removeClass('active'); $('html, body').animate({ scrollTop: $('.js-tabset').offset().top - hHeader }); }); }); } var cup = 0; function getCup(cupNum) {if (cupNum == 1) {return 'A '; } else if (cupNum == 2) {return 'B '; } else if (cupNum == 3) {return 'C '; } else if (cupNum == 4) {return 'D '; } else if (cupNum == 5) {return 'E '; } else if (cupNum == 6) {return 'F '; } else if (cupNum == 7) {return 'G '; } else if (cupNum == 8) {return 'H '; } else if (cupNum == 9) {return 'I '; } else if (cupNum == 10) {return 'J '; } else if (cupNum == 11) {return 'K '; } else if (cupNum == 12) {return 'L '; } else if (cupNum == 13) {return 'M '; } else if (cupNum == 14) {return 'N '; } else if (cupNum == 15) {return 'O '; } else if (cupNum == 16) {return 'P '; } else if (cupNum == 17) {return 'Q '; } else if (cupNum == 18) {return 'R '; } else if (cupNum == 19) {return 'S '; } else if (cupNum == 20) {return 'T '; } else if (cupNum == 21) {return 'U '; } else if (cupNum == 22) {return 'V '; } else if (cupNum == 23) {return 'W '; } else if (cupNum == 24) {return 'X '; } else if (cupNum == 25) {return 'Y '; } else if (cupNum == 26) {return 'Z '; } } function getSize(bandNum) {bandNum = bandNum - 63; if (bandNum > 0) {size = parseInt(bandNum / 4.9); } else {size = 0; } return (30 + size * 2) + '/' + (65 + size * 5); } function cal_bust(){var result = ''; var bust = $('#upper_bust'); var band = $('#under_bust'); var bustNum = parseInt(bust.val()); var bandNum = parseInt(band.val()); if (isNaN(bustNum) || bustNum < 0) {$('#show_bust').html('請輸入妳的上胸圍尺寸!!'); bust.focus(); return false; } if (isNaN(bandNum) || bandNum < 0) {$('#show_bust').html('請輸入妳的下胸圍尺寸!!'); band.focus(); return false; } var diff = bustNum - bandNum; if (diff < 0) {$('#show_bust').html('上胸圍不得小於下胸圍'); band.focus(); return false; } diff = diff - 10.3; if (diff > 0) {cup = 1 + Math.ceil(diff / 2.4); } else {cup = 1; } result += getCup(cup); result += getSize(bandNum); $('#show_bust').html(result); } $(function(){ var productCatBreadcrumb = ""; if($('.ProductDetail-breadcrumb').size() > 0){ productCatBreadcrumb = $('.ProductDetail-breadcrumb a:gt(0)').html(); productCatBreadcrumb += $('.ProductDetail-breadcrumb a:gt(1)').html(); productCatBreadcrumb += $('.Product-title').html().trim(); if ( !!productCatBreadcrumb.match(/內衣|小可愛|比基尼|隱形內衣/) ){ showSizeConversion(); $('#upper_bust').change(function(){ cal_bust(); }); $('#under_bust').change(function(){ cal_bust(); }); } } });
